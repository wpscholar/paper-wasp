{"version":3,"sources":["webpack:///webpack/bootstrap 980aa4b78695ebe78a88","webpack:///./class-editor.js","webpack:///./component-editor.jsx","webpack:///../wp-image-upload/index.jsx","webpack:///external \"React\""],"names":["window","componentRegistry","paperWasp","setProperty","onImageUpdate","img","alt","attachmentId","parseInt","id","caption","src","url","title","showCaption","onSrcChange","ImageEditor","data","align","fit","link","onChange","hasImage","length","hasCaption","isUpload","e","target","value","display","justifyContent","flexBasis","marginRight","Boolean","checked","WordPressImageUpload","onAddImage","uploader","open","onDeleteImage","preventDefault","unsetImage","wp","media","button","text","library","type","multiple","on","setImage","bind","props","state","get","first","toJSON","marginBottom","addImageText","className","join","trim","renderThumbnail","renderButton","defaultProps"],"mappings":"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","file":"assets/component-editor.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 980aa4b78695ebe78a88","import {ImageEditor} from './component-editor';\n\nconst {\n    paperWasp: {\n        componentRegistry\n    }\n} = window;\n\nif(componentRegistry) {\n    componentRegistry.setProperty('paper-wasp-image', 'classEditor', ImageEditor);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./class-editor.js","// @flow\nimport ImageUploader from 'wp-image-upload';\n\ntype Props = {\n    data: {\n        alt: string,\n        align: string,\n        attachmentId: number,\n        caption: string,\n        fit: string,\n        link: string,\n        showCaption: boolean,\n        src: string,\n        title: string\n    },\n    onChange: Function\n};\n\n/**\n * Handler to set props based on data passed by WordPress after uploading an image.\n *\n * @param img {Object}\n * @returns {Object}\n */\nfunction onImageUpdate(img) {\n\n    // Update props with data from WordPress image object\n    if (img) {\n        return {\n            alt: img.alt || '',\n            attachmentId: parseInt(img.id, 10) || 0,\n            caption: img.caption || '',\n            src: img.url || '',\n            title: img.title || ''\n        };\n    }\n\n    // Reset props if image was deleted\n    return {\n        alt: '',\n        attachmentId: 0,\n        caption: '',\n        showCaption: false,\n        src: '',\n        title: ''\n    };\n}\n\n/**\n * Handler to set props after image src is updated.\n *\n * @param src {string}\n * @returns {Object}\n */\nfunction onSrcChange(src) {\n    if (!src) {\n        return {\n            alt: '',\n            caption: '',\n            showCaption: false,\n            src,\n            title: ''\n        };\n    }\n    return {src};\n}\n\nfunction ImageEditor(\n    {data: {alt, align, attachmentId, caption, fit, link, showCaption, src, title}, onChange}: Props\n) {\n\n    const hasImage = src && src.length > 0;\n    const hasCaption = caption && caption.length > 0;\n    const isUpload = attachmentId && attachmentId > 0;\n\n    return (\n        <div>\n\n            {!hasImage || (hasImage && isUpload) ?\n                <ImageUploader\n                    alt={alt}\n                    className=\"paper-wasp-field\"\n                    onChange={data => onChange(onImageUpdate(data))}\n                    src={src} />\n                : null\n            }\n\n            {!isUpload ?\n                <label className=\"paper-wasp-field\">\n                    <span>Image URL</span>\n                    <input\n                        onChange={e => onChange(onSrcChange(e.target.value))}\n                        type=\"text\"\n                        value={src || ''}\n                    />\n                </label>\n                : null\n            }\n\n            {hasImage && !isUpload ?\n                <label className=\"paper-wasp-field\">\n                    <span>Alt Text</span>\n                    <input\n                        onChange={e => onChange({alt: e.target.value})}\n                        type=\"text\"\n                        value={alt || ''} />\n                </label>\n                : null\n            }\n\n            {hasImage ?\n                <div className=\"paper-wasp-field\" style={{display: 'flex', justifyContent: 'space-between'}}>\n                    <label style={{flexBasis: '50%', marginRight: '10px'}}>\n                        <span>Image Alignment</span>\n                        <select onChange={e => onChange({align: e.target.value})} value={align || 'left'}>\n                            <option value=\"left\">Left</option>\n                            <option value=\"center\">Center</option>\n                            <option value=\"right\">Right</option>\n                        </select>\n                    </label>\n                    <label style={{flexBasis: '50%'}}>\n                        <span>Image Fit</span>\n                        <select onChange={e => onChange({fit: e.target.value})} value={fit || 'natural'}>\n                            <option value=\"natural\">Natural</option>\n                            <option value=\"cover\">Cover</option>\n                        </select>\n                    </label>\n                </div>\n                : null\n            }\n\n            {hasImage ?\n                <label className=\"paper-wasp-field\">\n                    <span>Link URL</span>\n                    <input\n                        onChange={e => onChange({link: e.target.value})}\n                        type=\"text\"\n                        value={link || ''}\n                    />\n                </label>\n                : null\n            }\n\n            {hasImage && !isUpload ?\n                <label className=\"paper-wasp-field\">\n                    <span>Caption</span>\n                    <input\n                        onChange={e => onChange({caption: e.target.value})}\n                        type=\"text\"\n                        value={caption || ''} />\n                </label>\n                : null\n            }\n\n            {hasCaption ?\n                <label className=\"paper-wasp-field\">\n                    <input\n                        checked={showCaption || false}\n                        onChange={e => onChange({showCaption: Boolean(e.target.checked)})}\n                        type=\"checkbox\"\n                        value={1} />\n                    <span>Show Caption?</span>\n                </label>\n                : null\n            }\n\n            {hasImage && !isUpload ?\n                <label className=\"paper-wasp-field\">\n                    <span>Title</span>\n                    <input\n                        onChange={e => onChange({title: e.target.value})}\n                        type=\"text\"\n                        value={title || ''} />\n                </label>\n                : null\n            }\n\n        </div>\n    );\n}\n\nexport {ImageEditor};\n\n\n\n// WEBPACK FOOTER //\n// ./component-editor.jsx","// @flow\nimport {Component} from 'react';\n\nclass WordPressImageUpload extends Component {\n\n    // eslint-disable-next-line react/sort-comp\n    props: {\n        addImageText: string,\n        alt: string,\n        className: string,\n        onChange: Function,\n        src: string\n    };\n\n    static defaultProps = {\n        addImageText: 'Add Image',\n        className: ''\n    };\n\n    uploader: {\n        open: Function,\n        state: Function\n    };\n\n    componentDidMount() {\n        this.uploader = window.wp.media({\n            button: {text: 'Use Image'},\n            library: {type: 'image'},\n            multiple: false,\n            title: 'Select an Image'\n        });\n        this.uploader.on('select', this.setImage.bind(this));\n    }\n\n    onAddImage = () => {\n        this.uploader.open();\n    };\n\n    onDeleteImage = (e: Object) => {\n        e.preventDefault();\n        this.unsetImage();\n    };\n\n    setImage() {\n        this.props.onChange(this.uploader.state().get('selection').first().toJSON());\n    }\n\n    unsetImage() {\n        this.props.onChange(null);\n    }\n\n    renderThumbnail() {\n        const {onDeleteImage, props: {alt, src}} = this;\n        return (\n            <div>\n                <div className=\"thumbnail\" style={{marginBottom: '1em'}}>\n                    <img alt={alt} src={src} />\n                </div>\n\n                <button className=\"paper-wasp-button-secondary\" onClick={onDeleteImage}>\n                    Delete Image\n                </button>\n            </div>\n        );\n    }\n\n    renderButton() {\n        const {addImageText} = this.props;\n        return (\n            <button className=\"paper-wasp-button-secondary\" onClick={this.onAddImage} type=\"button\">\n                {addImageText}\n            </button>\n        );\n    }\n\n    render() {\n        const {className, src} = this.props;\n        return (\n            <div className={['paper-wasp-wp-image-upload', className].join(' ').trim()}>\n                {src ? this.renderThumbnail() : this.renderButton()}\n            </div>\n        );\n    }\n\n}\n\nexport default WordPressImageUpload;\n\n\n\n// WEBPACK FOOTER //\n// ../wp-image-upload/index.jsx","module.exports = React;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"React\"\n// module id = 8\n// module chunks = 0"],"sourceRoot":""}